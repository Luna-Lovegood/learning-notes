%-*- coding: UTF-8 -*-
% ThingsYouNeedToKnow.tex
%
\documentclass[UTF8]{ctexart}
\usepackage{geometry}
\geometry{a4paper, centering, scale=0.8}
\usepackage{minted}

\title{\heiti 第1章 \quad 关于 \LaTeX 你不得不知道的事}
\author{\kaishu Du Ang \\ \texttt{du2ang233@gmail.com} }
\date{\today}

\begin{document}
\maketitle

\tableofcontents

\newpage

\LaTeX 作者： Donald E. Knuth(高德纳)

\LaTeX 读音：“Lay-tech”或者“Lah-tech”

\LaTeXe 读作：“Lay-tech two e”

\texttt{WYSIWYG}：\emph{What you see is what you get.} “所见即所得”。当前大多数文字处理软件的理念，如 MS Word、LibreOffice。
但是\LaTeX 并没有遵循这个理念。

\section{\LaTeX 的优缺点}
\begin{quotation}
    \emph{ When people from the WYSIWYG world meet people who use \LaTeX, they
    often discuss “the advantages of \LaTeX{} over a normal word processor” or the
    opposite. The best thing to do when such a discussion starts is to keep a low
    profile(保持低调), since such discussions often get out of hand. But sometimes there is
    no escaping... }
\end{quotation}
\subsection{优点}
\begin{itemize}
    \item 可以获得专业的布局，让文档宛如印刷品一般精美
    \item 方便地排版数学公式
    \item 只需学几个简单的命令就能明确文档的逻辑结构，几乎不用对文档的布局修修补补
    \item 可以方便地生成脚注（footnotes）、引用（references）、目录（table of contents）、参考文献（bibliographies）等
            \footnote{Difference Between Bibliography and References:
            http://www.differencebetween.net/language/difference-between-bibliography-and-references/}
    \item 拥有许多针对各种排版设计任务的免费附加宏包
    \item 促使用户写出结构良好的文档——而这也是\LaTeX 存在的初衷
    \item 跨平台，完全免费，容易获得
\end{itemize}
\subsection{缺点}
\begin{itemize}
    \item 对于那些已经出卖了灵魂的人来说，\LaTeX 可能会不好使
    \item 排查错误困难。\LaTeX 作为一个依靠编写代码工作的排版工具，其使用的宏语言比 C++ 或 Python 等程序设计语言在错误排查方面困难得多。
        它虽然能够提示错误，但不提供调试的机制，有时错误提示还很难理解
    \item 在一个提前设计好的文档布局里改参数很容易，但设计一个新的布局比较困难，需要花费较多的时间
    \item 相比“所见即所得”的模式有一些不便，为了查看生成的文档，用户总要不停地编译
    \item 若是浅尝辄止，终不能领悟“逻辑标记”的真谛（\emph{ Your hamster might, despite some encouraging first steps,
        never be able to fully grasp the concept of Logical Markup } ）
\end{itemize}

\section{\LaTeX 输入文件}
\LaTeX 的输入文件是纯文本文件。
\subsection{空格}
\begin{itemize}
    \item “Whitespace”字符，如空白、Tab符等都会被 \LaTeX 认为是空格
    \item 几个连续的空格会被\LaTeX 当作一个空格
    \item 每一行开头的空格会被忽略，末尾的断行符~\mintinline{LaTeX}{\\}~会被当作空格
    \item 一个空行是一个段落结束的标志
    \item 几个空行视为一个空行
\end{itemize}
\subsection{特殊字符}
保留字符：\qquad \texttt{\#} \qquad \texttt{~\$} \qquad \texttt{~~~\^} \qquad \texttt{~\&} \qquad \texttt{~\_} \qquad
\texttt{~\{} \qquad \texttt{~\}} \qquad \texttt{~~\~} \qquad \texttt{\textbackslash}

打印保留字符：\mintinline{LaTeX}{\#} \qquad \mintinline{LaTeX}{\$} \qquad \mintinline{LaTeX}{\^} \qquad
\mintinline{LaTeX}{\&} \qquad \mintinline{LaTeX}{\_} \qquad \mintinline{LaTeX}|\{| \qquad
\mintinline{LaTeX}|\}| \qquad \mintinline{LaTeX}{\~} \qquad \mintinline{LaTeX}{\textbackslash}

注意：保留字符有特殊含义，任何字体下直接输入都不会打印，但可以通过加反斜杠 \mintinline{LaTeX}{\} 的方式打印这些特殊字符。不能通过
\mintinline{LaTeX}{\\} 来输入 \mintinline{LaTeX}{\}，而应该使用 \mintinline{LaTeX}{\textbackslash}，
\mintinline{LaTeX}{\\} 用于断行。

\subsection{\LaTeX 命令}
\LaTeX 命令是区分大小写的。
\LaTeX 命令以反斜线 \mintinline{LaTeX}{\} 开头，为以下两种形式之一：
\begin{itemize}
    \item 反斜线和后面的一串字母，如 \mintinline{LaTeX}{\LaTeX}。它们以任意非字母符号（空格、数字、标点等）作为分隔符。
        如\mintinline{LaTeX}{\textsl{}}、\mintinline{LaTeX}{\newline}命令。
    \item 反斜线和后面的一个非字母符号，如 \mintinline{LaTeX}{\$}，它们之间无需分隔符。
\end{itemize}
\LaTeX 会忽略掉命令后的空白符。如果想在命令后添加空格，可以在命令后添加一个空的 \texttt{\{\}}，如 \mintinline{LaTeX}{\TeX{}}；
或者是在命令后添加一个空格命令或特殊字符（如 \mintinline{LaTeX}{$\sim$} ）。

大多数的 \LaTeX 命令是带一个或多个参数，每个参数用花括号 \texttt{\{} 和 \texttt{\}} 包裹。有些命令带一个或多个可选参数，以方括号
\texttt{[} 和 \texttt{]} 包裹，用法为 \mintinline{LaTeX}{\command[optional parameter]{parameter}}。

还有些命令在命令名称后可以带一个星号 \texttt{*}，带星号和不带星号的命令效果有一定差异。

\LaTeX 还引入了环境的用法，用以令一些效果在局部生效，或是生成特定的文档元素。\LaTeX 环境的用法为一对命令 \mintinline{LaTeX}{\begin}
和 \mintinline{LaTeX}{\end}。

\subsection{\LaTeX 注释}
利用 \texttt{\%} 进行单行注释，引入 \texttt{verbatim} 宏包（\mintinline{LaTeX}{\usepackage{verbatim}}）后，可以在
\mintinline{LaTeX}{\begin{comment}} 和 \mintinline{LaTeX}{\end{comment}} 之间加入多行注释。

\section{\LaTeX 输入文件结构}
\begin{minted}{LaTeX}
    \documentclass{...}
    \usepackage{...}

    \begin{document}
        % text with some LaTeX commands
    \end{document}
\end{minted}

\section{\LaTeX 布局}
典型命令：\mintinline{LaTeX}|\documentclass[options]{class}|

\texttt{class} 指定文档类型，包含以下几种类型：
\begin{itemize}
    \item \texttt{article} 文章格式的文档类，广泛用于科技论文、报告、说明文档等
    \item \texttt{report} 长篇报告格式的文档类，具有章节结构，用于综述、长篇论文、简单的书籍等
    \item \texttt{book} 书籍文档类，包含章节结构和前言、正文、后记等结构
    \item \texttt{proc} 基于 \texttt{article} 文档类的一个简单的学术文档模板
    \item \texttt{slides} 幻灯格式的文档类，使用无衬线字体
    \item \texttt{minimal} 一个极其精简的文档类，只设定了纸张大小和基本字号，用作代码测试的最小工作示例
\end{itemize}
\texttt{options} 为文档类指定选项，以全局地影响文档布局的参数，如字号、纸张大小、 单双面等等。比如调用 \texttt{article} 文档类排版文章，
指定纸张为 \texttt{A4} 大小，基本字号为 \texttt{11pt}。\newline
双面排版: \mintinline{LaTeX}|\documentclass[11pt,twoside,a4paper]{article}|。

\LaTeX 的三个标准文档类可指定的选项：
\begin{itemize}
    \item \texttt{10pt}, \texttt{11pt}, \texttt{12pt} 指定文档的基本字号。缺省为 \texttt{10pt}
    \item \texttt{a4paper}, \texttt{letterpaper}, ... 指定纸张大小，默认为美式纸张 \texttt{letterpaper}。可指定选项还包括
     \texttt{a5paper}、 \texttt{b5paper}、 \texttt{executivepaper} 和 \texttt{legalpaper}
    \item \texttt{fleqn} 令行间公式左对齐(缺省为居中)
    \item \texttt{leqno} 将公式编号放在左边(缺省为右边)
    \item \texttt{titlepage}, \texttt{notitlepage} 指定标题命令。 \texttt{\maketitle} 是否生成单独的标题页。
        \texttt{article} 缺省为 \texttt{notitlepage}，\texttt{report} 和 \texttt{book} 缺省为 \texttt{titlepage}
    \item \texttt{onecolumn}, \texttt{twocolumn} 指定单栏/双栏排版
    \item \texttt{twoside}, \texttt{oneside} 指定单面/双面排版。双面排版时，奇偶页的页眉页脚、页边距不同。 \texttt{article}和
        \texttt{report} 缺省为单面排版， \texttt{book} 缺省为双面。
    \item \texttt{landscape} 指定横向排版。缺省为纵向。
    \item \texttt{openright}, \texttt{openany} 指定新的一章 \mintinline{LaTeX}{\chapter} 是在奇数页(右侧)开头，还是直接紧
        跟着上一页开头。\texttt{report} 缺省为 \texttt{openany}，\texttt{book} 缺省为 \texttt{openright}。（对
        \texttt{article} 无效）
\end{itemize}
\LaTeX 支持使用 \mintinline{LaTeX}{\pagestyle{style}}来定义页眉页脚的风格，有三种预定义的选项可以选择：
\begin{itemize}
    \item \texttt{plain} 默认为此选项，在每一页的页脚中间打印当前页码
    \item \texttt{headings} 在每一页的页眉处打印当前章节（chapter）名称和当前页码，页脚为空
    \item \texttt{empty} 页眉页脚都设为空
    \item \texttt{myheadings} 没有页脚，页眉是页码和用户自定义的内容
\end{itemize}
可以使用\mintinline{LaTeX}|\thispagestyle{style}|来改变特定页的页眉页脚风格。

\section{\LaTeX 用到的文件一览}
除了源码\texttt{.tex}文件，还可能遇到以下格式的文件：
\begin{itemize}
    \item \texttt{.sty} 宏包文件。宏包的名称就是去掉扩展名的文件名
    \item \texttt{.cls} 文档类文件。同样地，文档类名称就是文件名
    \item \texttt{.bib} Bib\TeX 参考文献数据库文件
    \item \texttt{.bst} Bib\TeX 用到的参考文献格式模板
\end{itemize}
\LaTeX 在编译过程中生成相当多的辅助文件和日志。一些功能如交叉引用、参考文献、目录、 索引等，需要先编译生成辅助文件，然后再次编译时读入辅助文
件得到正确的结果，所以复杂的 \LaTeX 源代码可能要编译多次。在使用TeX的过程中可能遇到以下扩展名的文件：
\begin{itemize}
    \item \texttt{.log} 排版引擎生成的日志文件，供排查错误使用
    \item \texttt{.aux} \LaTeX 生成的主辅助文件，记录交叉引用、目录、参考文献的引用等
    \item \texttt{.toc} \LaTeX 生成的目录记录文件
    \item \texttt{.lof} \LaTeX 生成的图片目录记录文件
    \item \texttt{.lot} \LaTeX 生成的表格目录记录文件
    \item \texttt{.bbl} Bib\TeX 生成的参考文献记录文件
    \item \texttt{.blg} Bib\TeX 生成的日志文件
    \item \texttt{.idx} \LaTeX 生成的供 \texttt{makeindex} 处理的索引记录文件
    \item \texttt{.ind} \texttt{makeindex} 处理 .idx 生成的格式化索引记录文件
    \item \texttt{.ilg} \texttt{makeindex} 生成的日志文件
    \item \texttt{.out} \texttt{hyperref} 宏包生成的 PDF 书签记录文件
\end{itemize}

\section{文件的组织方式}
当编写较大规模的 \LaTeX 源代码，如书籍、毕业论文等，你有理由将源代码分成若干个文件而不是写到一堆，比如很自然地每章写一个文件。

可以使用 \texttt{\textbackslash include} 命令在源代码中插入文件，如 \texttt{\textbackslash include\{$\langle$filename$\rangle$\}}。
\texttt{$\langle$filename$\rangle$} 为文件名（如果是 \texttt{.tex}文件，可以不加扩展名），如果和要编译的主文件不在一个目录中，则要加上
相对或绝对路径。值得注意的是 \texttt{\textbackslash include} 在读入 \texttt{$\langle$filename$\rangle$} 之前会另起一页。有的时
候我们并不需要这样，而是用 \texttt{\textbackslash input} 命令， 它纯粹是把文件里的内容插入:
\texttt{\textbackslash input\{$\langle$filename$\rangle$\}}。

另外 \LaTeX 提供了一个 \texttt{\textbackslash includeonly} 命令来组织文件，用于导言区（ preamble ），指定只载入某些文件:
\texttt{\textbackslash includeonly\{$\langle$filename1$\rangle$, $\langle$filename2$\rangle$, ...\}}。导言区使用了
\texttt{\textbackslash includeonly} 后，正文中不在其列表范围的 \texttt{\textbackslash include} 命令不会起效。

注意：参考\textsl{TEX and controlled access to information}\footnote{https://www.tug.org/TUGboat/tb36-2/tb113veytsman-access.pdf}，
\LaTeX 中没有 \texttt{\textbackslash inputonly} 命令，但是可以自己定义一个：
\begin{minted}{LaTeX}
    \newif\iffinancial
    ...
    \iffinancial\input{cost_table.tex}\fi
\end{minted}

\section{编译小技巧}
加载宏包\texttt{syntonly}，在导言区使用 \mintinline{LaTeX}{\syntaxonly} 命令,可令 \LaTeX 编译后不生成 DVI 或者 PDF 文档,只排
查错误,编译速度会快不少：
\begin{minted}{LaTeX}
    \usepackage{syntonly}
    \syntaxonly
\end{minted}
如果想生成文档,则将 \mintinline{LaTeX}{\syntaxonly} 命令那一行用 \% 注释掉即可。
如果在编译 \texttt{.tex} 文件时遇到了错误，使用\texttt{Ctrl+D}回到命令行。

\end{document}
